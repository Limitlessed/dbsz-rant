<!DOCTYPE html>
<html lang="en">
  <head>
    <title> Vegeta (Super) </title>
    <!-- <title>Mastered Ultra Instinct Goku</title> -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="styles.css" />
    <script type="module" src="script.js"></script>
    <style> body {background-color:royalblue; }
    </style>
    <link rel="icon"
    href="/images/favicon.ico">
  </head>
  <body>
    <nav>
      <a href="/">Home</a>
      <a href="/characters/page2.html" aria-current="page">Other page</a>
    </nav>
    <main>
      <a href="index.html"> Home </a>
      <select id="Moves"></select>
      <table id="table">
        <thread>
          <tr>
            <td><b> Name </b></td>
            <td><b> Ki Cost </b></td>
            <td><b> Type </b></td>
          </tr>  
        </thread>
        <tbody>
        </tbody>
      </table>
      <script>
        const array=["Energy", "Rush"]
        const select=document.getElementById("Moves");
        array.forEach((move) => {
          option = document.createElement("option")
          option.value = move;
          option.text = move;
          select.appendChild(option)
        })
      </script>
      <script>
      const moves = [{
        name: "Gamma Burst Flash" ,
        ki: 3 ,
        type: "Energy" ,
       }, {
        name: "God Final Flash" ,
        ki: 3 ,
        type: "Energy" ,
       }, {
       name: "Gamma Fist" ,
        ki: 3 ,
        type: "Rush" ,
       }, {
        name: "God Shine Attack" ,
        ki: 3 ,
        type: "Energy" ,
       }, {
        name: "Galick Uppercut" ,
        ki: 3 ,
        type: "Rush" ,
       }, {
        name: "Galick Rush" ,
        ki: 3 ,
        type: "Energy" ,
       },{
        name: "Galick Gun" ,
        ki: 3 ,
        type: "Energy" ,
       },{
        name: "Absolute Rush" ,
        ki: 3 ,
        type: "Rush" ,
      }]
      const writeTableRow = (table,moves) => {
      const newRow = table.insertRow();

      newRow.innerHTML = `<tr id=${moves.name}>
         <td>${moves.name}</td>
         <td>${moves.ki}</td>
         <td>${moves.type}</td>
      </tr>`; 
      }

      const tableBody = document.getElementsByTagName("tbody") [0];
      writeTableRow(tableBody, moves[1])
      
        const makeTable = () => {
          const table = document.getElementsByTagName("tbody")[0]
          tableBody.innerHTML = "" ;
          if (select.value = "all") {
            moves.forEach ((row) => writeTableRow(table,row));
          } else {
            const filtered = moves.filter((r) => select.value == r.type)
            filtered.forEach((r)=> writeTableRow(tableBody. r))
          }
        }
        makeTable()

      </script>
    </main>
  </body>
</html>